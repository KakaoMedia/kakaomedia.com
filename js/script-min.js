$("#formulario_de_contacto").validate({rules:{name:"required",email:{required:!0,email:!0},subject:"required",message:"required"},submitHandler:function(a,b){b.preventDefault()}}); (function(a){a.fn.serializeObject=function(){var b=this,h={},c={},q=/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,m=/[a-zA-Z0-9_]+|(?=\[\])/g,k=/^$/,p=/^\d+$/,r=/^[a-zA-Z0-9_]+$/;this.build=function(a,f,b){a[f]=b;return a};this.push_counter=function(a){void 0===c[a]&&(c[a]=0);return c[a]++};a.each(a(this).serializeArray(),function(){if(q.test(this.name)){for(var c,f=this.name.match(m),g=this.value,e=this.name;void 0!==(c=f.pop());)e=e.replace(new RegExp("\\["+c+"\\]$"),""),c.match(k)?g= b.build([],b.push_counter(e),g):c.match(p)?g=b.build([],c,g):c.match(r)&&(g=b.build({},c,g));h=a.extend(!0,h,g)}});return h}})(jQuery); $(function(){var a=$("#formulario_de_contacto"),b=$("#form-messages"),h=$("#boton-enviar");$(a).submit(function(c){c.preventDefault();c=$(a).serializeObject();""!==c.uuid&&""!==c.name&&""!==c.subject&&""!==c.menssage?($(h).css("background-color","lightseagreen"),$(h).text(form_messages.sending_button_text),$.ajax({type:"POST",url:$(a).attr("action"),crossDomain:!0,contentType:"text/plain",data:JSON.stringify({uuid:c.uuid,name:c.name,subject:c.subject,email:c.email,message:c.message}),headers:{"Content-Type":"application/json; charset=utf-8"}, success:function(a){$(b).removeClass("alert alert-danger");$(b).addClass("success");$("#boton-enviar").css("background-color","darkorange");$(h).text(form_messages.sent_button_text);$(b).text(form_messages.success_message);$("#name").val("");$("#email").val("");$("#subject").val("");$("#message").val("")},error:function(a){$(b).removeClass("alert alert-success");$(b).addClass("alert alert-error");""!==a.responseText?$(b).text(form_messages.error_message):$(b).text(form_messages.error_message_complete)}})): ($(b).removeClass("alert alert-info"),$(b).text(form_messages.require_error_message))})});$.fn.reverse=[].reverse;$.fn.scrollView=function(a){return this.each(function(){null==a?$("html, body").animate({scrollTop:$(this).offset().top},100,"swing"):$("html, body").animate({scrollTop:a},100,"swing")})}; $(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash),a=a.length?a:$("[name="+this.hash.slice(1)+"]");if(a.length)return $("html,body").animate({scrollTop:a.offset().top},1E3),!1}})});window.addEventListener&&window.addEventListener("DOMMouseScroll",wheel,!1);window.onmousewheel=document.onmousewheel=wheel; function wheel(a){var b=0;a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);handle(b);a.preventDefault&&a.preventDefault();a.preventDefault()}function handle(a){$("html, body").stop().animate({scrollTop:$(window).scrollTop()-350*a},400)} function methodToFixLayout(a){a=$(window).outerWidth()+17;$("#what_we_do .first_group, #what_we_do .second_group").height("160px");$("#what_we_do").css("padding-bottom","30px");768<=a&&991>=a?($("#what_we_do #first_group, #what_we_do #second_group").height(0),$("#what_we_do .info:visible").parent().parent().height(2*$("#what_we_do .info:visible").height()-80)):991<a&&($("#what_we_do").css("padding-bottom",$("#what_we_do .info:visible").height()+50),$("#what_we_do .first_group, #what_we_do .second_group").height("0"))} $("document").ready(function(){function a(){var d,l,a,b,c,e=Math.min(f.length,g+n);$("#portfolio-gallery").empty();for(var h=g;h<e;h++)d=$("<li></li>"),l=$("<span class='item-name'>"+f[h].name+"</span>"),a=$("<div class='darker'></div>"),b=$("<div class='item-img'></div>"),c=$("<p><span></span>"+f[h].footer+"</p>"),b.css("background-image","url('/img/"+f[h].image+"')"),d.append(l,a,b,c),$("#portfolio-gallery").append(d),d.attr("data-index",h);0>g-n?$(".ptf_page_prev a").css("display","none"):$(".ptf_page_prev a").css("display", "inline-block");g+n>=f.length?$(".ptf_page_next a").css("display","none"):$(".ptf_page_next a").css("display","inline-block")}function b(){var d,a,t;$("#ptf_brand").text(f[e].name);$("#ptf_year").text(f[e].year);$("#ptf_work").empty();for(a=0;a<f[e].works.length;a++)d=$("<li>"+f[e].works[a].work+"</li>"),$("#ptf_work").append(d);$("#ptf_website").attr("href",f[e].website);a=f[e].website.indexOf("://");-1<a&&$("#ptf_website").text(f[e].website.substring(a+3,f[e].website.length));$.ajax({url:f[e].rel_url, dataType:"html",type:"GET",success:function(a){$("#ptf_desc").html(a)}});$("#ptf_proj_gal").carousel("pause").removeData();$("#ptf_proj_gal").carousel({interval:2500});$ptf_car_ind=$("#ptf_proj_gal .carousel-indicators");$ptf_car_ind.empty();d=$("<li data-target='#ptf_proj_gal' data-slide-to='0' class='active' ></li>");$ptf_car_ind.append(d);$ptf_car_inner=$("#ptf_proj_gal .carousel-inner");$ptf_car_inner.empty();d=$("<div class='item active'></div>");t=$("<img alt ='photo' src='/img/"+f[e].gallery[0].img+ "'>");d.append(t);$ptf_car_inner.append(d);for(a=1;a<f[e].gallery.length;a++)d=$("<li data-target='#ptf_proj_gal' data-slide-to='"+a.toString()+"' ></li>"),$ptf_car_ind.append(d),d=$("<div class='item'></div>"),t=$("<img alt ='photo' src='/img/"+f[e].gallery[a].img+"'>"),d.append(t),$ptf_car_inner.append(d);g=e-e%n}function h(a,l){p="rect("+(a.offset().top-l.offset().top)+"px, "+(a.offset().left+a.outerWidth())+"px, "+(a.offset().top-l.offset().top+a.outerHeight())+"px ,"+a.offset().left+"px)";r= "rect(0px "+$("#portfolio").outerWidth()+"px "+$("#portfolio").outerHeight()+"px 0px)";l.css({clip:p})}function c(){$("#team .team_container .thumbnail").on("mouseenter",function(){$(this).css("-o-transform","rotate3d(1, 0, 0, 0deg) rotate3d(0, 1, 0, 180deg) rotate3d(0, 0, 1, 45deg)");$(this).css("-ms-transform","rotate3d(1, 0, 0, 0deg) rotate3d(0, 1, 0, 180deg) rotate3d(0, 0, 1, 45deg)");$(this).css("-moz-transform","rotate3d(1, 0, 0, 0deg) rotate3d(0, 1, 0, 180deg) rotate3d(0, 0, 1, 45deg)");$(this).css("-webkit-transform", "rotate3d(1, 0, 0, 0deg) rotate3d(0, 1, 0, 180deg) rotate3d(0, 0, 1, 45deg)");$(this).css("transform","rotate3d(1, 0, 0, 0deg) rotate3d(0, 1, 0, 180deg) rotate3d(0, 0, 1, 45deg)");$(this).off("mouseenter");$(this).off("mouseleave");setTimeout(q,320)})}function q(){$("#team .team_container .thumbnail").on("mouseleave",function(){$(this).css("-o-transform","rotate(45deg)");$(this).css("-ms-transform","rotate(45deg)");$(this).css("-moz-transform","rotate(45deg)");$(this).css("-webkit-transform","rotate(45deg)"); $(this).css("transform","rotate(45deg)");$(this).off("mouseleave");setTimeout(c,180)})}var m,k,p,r,s,f=[],g=0,e=0,u=0,n=7;$(window).on("resize",methodToFixLayout);$(".navbar").affix({offset:{top:625,bottom:function(){return this.bottom=$(".footer").outerHeight(!0)}}});$(".rotate").textrotator({animation:"dissolve",separator:";;;",speed:2E3});$(".main h2, .main p.lead, #what_we_do .title_info").not("#front_page h2").addClass("animated fadeOut");$("#portfolio #portfolio-gallery li").addClass("animated-flip fadeOutUp"); $("#front_page .container").addClass("animated fadeIn");$("#team .team_container").addClass("animated fadeOutUp");$(window).scroll(function(){150<$(this).scrollTop()&&$("#front_page .container").removeClass("animated fadeIn").addClass("animated fadeOut");150>$(this).scrollTop()&&$("#front_page .container").removeClass("animated fadeOut").addClass("animated fadeIn")});$(".main h2, .main p.lead").not("#front_page h2").waypoint(function(a){"up"==a&&$(this).removeClass("animated fadeIn").addClass("animated fadeOut"); "down"==a&&$(this).removeClass("animated fadeOut").addClass("animated fadeIn")},{offset:"80%"});$("#what_we_do .row").waypoint(function(a){"up"==a&&$(this).find(".title_info").reverse().each(function(a){var d=$(this);setTimeout(function(){d.removeClass("animated fadeIn").addClass("animated fadeOut")},100*a)});"down"==a&&$(this).find(".title_info").each(function(a){var d=$(this);setTimeout(function(){d.removeClass("animated fadeOut").addClass("animated fadeIn")},100*a)})},{offset:"80%"});$("#what_we_do .title_info").click(function(){var a= $(window).outerWidth()+17,l=$(this).parent().find(".info").height();$("#what_we_do .active").removeClass("active");$(this).parent().find(".info").is(":visible")?($(this).parent().find(".info").slideUp("medium"),$("#what_we_do").css("padding-bottom","30px"),768<=a&&991>=a&&$("#what_we_do .first_group, #what_we_do .second_group").animate({height:"160px"})):($(this).addClass("active"),0==$("#what_we_do .info:visible").length?($(this).parent().find(".info").slideDown("medium"),768<=a&&991>=a&&$(this).parent().parent().animate({height:2* l-80+"px"})):767>=a?($("#what_we_do .info:visible").slideUp("medium"),$(this).parent().find(".info").slideDown("medium")):768<=a&&991>=a?$("#what_we_do .info:visible").parent().parent().attr("class")!=$(this).parent().parent().attr("class")?($("#what_we_do .info:visible").parent().parent().animate({height:"160px"}),$("#what_we_do .info:visible").slideUp("medium"),$(this).parent().parent().animate({height:2*l-80+"px"}),$(this).parent().find(".info").slideDown("medium")):($("#what_we_do .info:visible").fadeOut("medium"), $(this).parent().find(".info").fadeIn("medium")):992<=a&&($("#what_we_do .info:visible").fadeOut("medium"),$(this).parent().find(".info").fadeIn("medium")),991<a&&$("#what_we_do").css("padding-bottom",l+50))});$("#tools .first_img .point_guide").waypoint(function(a){"up"==a&&$(this).find(".points_container").reverse().each(function(a){var d=$(this);setTimeout(function(){d.css("opacity",0)},15*a)});"down"==a&&$(this).find(".points_container").each(function(a){var d=$(this);setTimeout(function(){d.css("opacity", 1)},15*a)})},{offset:"80%"});$("#tools .resume_tools .media-body").waypoint(function(a){var b=$(this);"up"==a&&setTimeout(function(){b.css("opacity",0)},100);"down"==a&&setTimeout(function(){b.css("opacity",1)},100)},{offset:"80%"});$("#tools .media:nth-child(2n+2)").waypoint(function(a){if("up"==a){var b=$(this).find(".img_container .points_container").length;$(this).find(".media-object").each(function(){var a=$(this);setTimeout(function(){a.css("opacity",0)},15*b)});$(this).find(".img_container .points_container").reverse().each(function(a){var b= $(this);setTimeout(function(){b.css("opacity",0)},15*a)});$(this).find(".center_points span").each(function(a){var d=$(this);setTimeout(function(){d.css("opacity",0)},15*(a+b))})}"down"==a&&(b=$(this).find(".center_points span").length,$(this).find(".center_points span").reverse().each(function(a){var b=$(this);setTimeout(function(){b.css("opacity",1)},15*a)}),$(this).find(".img_container .points_container").each(function(a){var d=$(this);setTimeout(function(){d.css("opacity",1)},15*(a+b))}),$(this).find(".media-object").each(function(){var a= $(this);setTimeout(function(){a.css("opacity",1)},15*b)}))},{offset:"80%"});$("#tools .media:nth-child(2n+3)").waypoint(function(a){if("up"==a){var b=$(this).find(".img_container .points_container").length;$(this).find(".media-object").each(function(){var a=$(this);setTimeout(function(){a.css("opacity",0)},15*b)});$(this).find(".img_container .points_container").each(function(a){var b=$(this);setTimeout(function(){b.css("opacity",0)},15*a)});$(this).find(".center_points span").reverse().each(function(a){var d= $(this);setTimeout(function(){d.css("opacity",0)},15*(a+b))})}"down"==a&&(b=$(this).find(".center_points span").length,$(this).find(".center_points span").each(function(a){var b=$(this);setTimeout(function(){b.css("opacity",1)},15*a)}),$(this).find(".img_container .points_container").reverse().each(function(a){var d=$(this);setTimeout(function(){d.css("opacity",1)},15*(a+b))}),$(this).find(".media-object").each(function(){var a=$(this);setTimeout(function(){a.css("opacity",1)},15*b)}))},{offset:"80%"}); switch(!0){case -1<document.documentElement.lang.indexOf("en"):s="en";break;case -1<document.documentElement.lang.indexOf("es"):s="es";break;default:s="es"}$.getJSON("/json/portfolio-"+s+".json",function(b){for(var c=0;c<b.portfolio.length-1;c++)f.push(b.portfolio[c]);a()});$("#portfolio #portfolio-gallery li").waypoint(function(a){"up"==a&&$(this).removeClass("animated-flip fadeInUp").addClass("animated-flip fadeOutUp");"down"==a&&$(this).removeClass("animated-flip fadeOutUp").addClass("animated-flip fadeInUp")}, {offset:"80%"});$("#portfolio-gallery").on("click","li",function(){e=u=parseInt($(this).attr("data-index"));k=$("#portfolio-info");b();m=$(this);h(m,k);setTimeout(function(){k.css({opacity:1,"z-index":1E4}).removeClass("hide-info");k.animate({clip:r},"fast","swing",function(){$("#portfolio").scrollView().css("padding-bottom",0)})},500)});$(".ptf_page_next a").on("click",function(){g+n<f.length&&(g+=n,a())});$(".ptf_page_prev a").on("click",function(){0<=g-n&&(g-=n,a())});$("#portfolio-nav-proj-prev").on("click", function(){e=0<e?e-1:f.length-1;b()});$("#portfolio-nav-proj-next").on("click",function(){e=e<f.length-1?e+1:0;b()});$(".carousel-control.left").on("click",function(){$("#ptf_proj_gal").carousel("prev")});$(".carousel-control.right").on("click",function(){$("#ptf_proj_gal").carousel("next")});$("#portfolio-info .close").on("click",function(){"undefined"!==typeof m&&(m=$("#portfolio-gallery li:nth-child("+(e%n+1).toString()+")"),h(m,k),k.animate({clip:p},"fast","swing"),m.scrollView(m.offset().top- 100),$("#portfolio").css("padding-bottom","150px"),a(),setTimeout(function(){k.animate({opacity:0,"z-index":-1E4},"fast","swing",function(){k.addClass("hide-info")})},500))});(function(){$("#team .thumbnail").on("mouseover",function(){})})();c();q();$("#team .team_container").waypoint(function(a){"up"==a&&$(this).removeClass("animated fadeInUp").addClass("animated fadeOutUp");"down"==a&&$(this).removeClass("animated fadeOutUp").addClass("animated fadeInUp")},{offset:"80%"})});